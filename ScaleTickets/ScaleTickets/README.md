## SCALETICKETS

The ScaleTickets project is about creating a ticketing application for purchasing tickets
for different trips, as well as tracking the business analytics from the point of view of
the business owner.
Trips can be created based on different routes which details are created dynamically from
an external API, as well as different busses and drivers.
The tickets can be discounted depending if the user has a valid discount coupon or not,
and depending on his preference he can receive email or SMS notifications for his ticket
purchase.
The business owner has the ability to track his revenue of sold tickets on different dates, 
as well as his expenses of fuel, software licencing, driver salary wages, maintenance cost for the busses
as well as travel costs.
The bussiness owner also has the privilege to track his gross profit and do profit
comparison in percentage, so he can review and have  reports on his business.

**Prerequisities**

1. Maven
2. JDK 11
3. Intellij IDEA IDE 2022
4. PostgreSQL 

**Technologies used**

* Spring Boot 2.7.3
* Spring Security 2.7.3
* Spring Data JPA 2.7.3
* Spring Web 2.7.3
* JUnit 5.8.2
* Mockito 4.5.1
* Postgres 14.5
* Spring Starter Mail 2.7.3
* Spring Thymeleaf 2.7.3
* Lombok 2.7.3
* Spring Boot Validation 2.7.3
* Twilio SDK 8.36.0
* Java Faker 1.0.2
* Apache Http Components 4.5.13

**Installation**

1. Open the resources folder and inside open the DDL script titled 'script.ddl'.
2. Open pgAdmin 4 and run the script.
3. Open the System properties -> Environmental variables -> System Variables -> New
4. Create an Environment variable with the name: 'ST_GOOGLE_MATRIX_API_KEY' and enter
   the API key from the Matrix API.


**How to use**

1. Open the resources folder and inside open the application.properties.
2. Enter your credentials for the username and password for connecting to the database.
3. In the email configuration section - add your email that you would like to use for this application
and password or code generated by your gmail account.
4. Open the resources folder and inside open the 'dml-script.sql'.
5. Open pgAdmin 4 and run the script.
6. You will have a default admin user with which you can login.
7. Please refer to the exported endpoints in the resources/endpoints folder, which you can
import in Postman.
8. Open Postman and on the endpoint: http://localhost:8087/api/v1/login open the raw body
and select JSON in the format.
9. Put { username:"admin", password="admin" } in the body and login as an admin.

**Testing**

1. Run mvn test in the root of the project
2. Run the unit test with right click on the test/java/com.sfa22.ScaleTickets package
and Run Unit Tests

**Versioning**

* v.1.0.0 Project setup, configurations and business logic
* v.2.0.0 Special features such as Matrix API, email and sms sending, Task Scheduler implemented
* v.3.0.0 Added endpoints, security, validations and exception handling.




**Authors**

* Angela Fisher 
* Dimitar Chardakliev 
* Erkan Kamber 
* Pavlin Minkov 
* Kristina Lajmanovska

